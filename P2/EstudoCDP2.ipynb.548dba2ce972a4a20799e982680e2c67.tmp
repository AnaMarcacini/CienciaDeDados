import matplotlib.pyplot as plt
import seaborn as sns

# Filtrar os dados para os três estados maiores produtores em 2019 e para os anos de 2018 e 2019
top_states = ['CO', 'CA', 'TX']
df_top_states_2018_2019 = df[(df['state'].isin(top_states)) & (df['year'].isin([2018, 2019]))]

# Agrupar os dados por estado e ano, e somar a produção de barris
production_per_year_state_2018_2019 = df_top_states_2018_2019.groupby(['state', 'year'])['barrels'].sum().reset_index()

# Criar o gráfico de barras
plt.figure(figsize=(14, 7))
sns.barplot(data=production_per_year_state_2018_2019, x='state', y='barrels', hue='year', palette='viridis')
plt.title('Beer Production in 2018 and 2019 for Top States')
plt.xlabel('State')
plt.ylabel('Total Barrels')
plt.grid(True)
plt.show()