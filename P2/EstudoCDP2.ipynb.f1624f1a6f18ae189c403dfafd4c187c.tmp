from scipy.stats import ttest_ind

results = pd.DataFrame(columns=['device','stat Welch','p-value','H0-Rejected'])

stat, p_valor = ttest_ind(df[df['Gênero'] == 'Feminino']['pontuacao'], df[df['Gênero'] == 'Masculino']['pontuacao'],equal_var=False)
results.loc[len(results)] = ['all',np.round(stat,4),np.round(p_valor,4),p_valor < 0.05]

for device in df.device.unique():
  select = df['device'] == device
  stat, p_valor = ttest_ind(df[(df['Gênero'] == 'Feminino') & (select)]['pontuacao'], df[(df['Gênero'] == 'Masculino') & (select)]['pontuacao'],equal_var=False)
  results.loc[len(results)] = [device,np.round(stat,4),np.round(p_valor,4),p_valor < 0.05]

  print('Device =', device)
  print("Estatística:", stat)
  print("Valor p:", p_valor)
  if p_valor < 0.05:
      print("Rejeitamos a hipótese nula - as médias são estatisticamente diferentes.")
  else:
      print("Não rejeitamos a hipótese nula - não há evidências suficientes para afirmar diferença nas médias.")
  print()

results